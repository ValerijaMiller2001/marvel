"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[404],{835:(e,a,s)=>{s.d(a,{A:()=>r});const t=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=s(579);const r=()=>(0,c.jsx)("img",{src:t,alt:"error",className:"error"})},481:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var t=s(43),c=s(591),r=s(757),n=s(594),i=s(579);const l=e=>{let{data:a}=e;const{name:s,description:t,thumbnail:c,homepage:r,wiki:n,comics:l}=a;let o={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===c&&(o={objectFit:"contain"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"charinfo_header",children:[(0,i.jsx)("img",{src:c,alt:s,className:"charinfo_img",style:o}),(0,i.jsxs)("div",{className:"charinfo_header_block",children:[(0,i.jsx)("div",{className:"charinfo_name",children:s}),(0,i.jsx)("a",{href:r,className:"btn btn_red charinfo_btn_red",children:"HOMEPAGE"}),(0,i.jsx)("a",{href:n,className:"btn btn_grey charinfo_btn_grey",children:"WIKI"})]})]}),(0,i.jsx)("div",{className:"charinfo_descr",children:t}),(0,i.jsxs)("div",{className:"charinfo_comics",children:[(0,i.jsx)("div",{className:"charinfo_comics_title",children:"Comics:"}),(0,i.jsxs)("ul",{className:"charinfo_comics_list",children:[l.lenght>0?null:"There is no comics with this character",l.map(((e,a)=>{if(!(a>9))return(0,i.jsx)("li",{className:"charinfo_comics_item",children:e.name},a)}))]})]})]})},o=e=>{const[a,s]=(0,t.useState)(null),{getCharacter:c,clearError:o,process:d,setProcess:h}=(0,r.A)();(0,t.useEffect)((()=>{u()}),[e.charId]);const m=e=>{s(e)},u=()=>{const{charId:a}=e;a&&(o(),c(a).then(m).then((()=>h("confirmed"))))};return(0,i.jsx)("div",{className:"charinfo",children:(0,n.A)(d,l,a)})};var d=s(835),h=s(561);const m=e=>{const[a,s]=(0,t.useState)([]),[c,n]=(0,t.useState)(!1),[l,o]=(0,t.useState)(210),[m,u]=(0,t.useState)(!1),{getAllCharacters:p,process:j,setProcess:x}=(0,r.A)();(0,t.useEffect)((()=>{b(l,!0)}),[]);const b=(e,a)=>{n(!a),p(e).then(_).then((()=>x("confirmed")))},_=e=>{let a=!1;e.lenght<9&&(a=!0),s((a=>[...a,...e])),n((e=>!1)),o((e=>e+9)),u((e=>a))},g=(0,t.useRef)([]),v=e=>{g.current.forEach((e=>e.classList.remove("charlist_item_selected"))),g.current[e].classList.add("charlist_item_selected"),g.current[e].focus()};const N=(0,t.useMemo)((()=>((e,a,s)=>{switch(e){case"waiting":return(0,i.jsx)(h.A,{});case"loading":return s?(0,i.jsx)(a,{}):(0,i.jsx)(h.A,{});case"confirmed":return(0,i.jsx)(a,{});case"error":return(0,i.jsx)(d.A,{});default:throw new Error("Unexpected process state")}})(j,(()=>function(a){const s=a.map(((a,s)=>{let t={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a.thumbnail&&(t={objectFit:"unset"}),(0,i.jsxs)("div",{className:"charlist_item",tabIndex:0,ref:e=>g.current[s]=e,onClick:()=>{e.onCharSelected(a.id),v(s)},onKeyPress:t=>{" "!==t.key&&"Enter"!==t.key||(e.onCharSelected(a.id),v(s))},children:[(0,i.jsx)("img",{src:a.thumbnail,alt:a.name,className:"charlist_img",style:t}),(0,i.jsx)("div",{className:"charlist_title",children:a.name})]},a.id)}));return(0,i.jsx)("div",{className:"charlist_wrapper",children:s})}(a)),c)),[j]);return(0,i.jsxs)("div",{className:"charlist",children:[N,(0,i.jsx)("button",{className:"btn btn_long",disabled:c,style:{display:m?"none":"block"},onClick:()=>b(l),children:"LOAD MORE"})]})},u=s.p+"static/media/asset.2550a32d5381821cbc9e.png",p=()=>(0,i.jsx)("div",{className:"asset",children:(0,i.jsx)("img",{src:u,alt:"asset"})}),j=s.p+"static/media/decoration.2baf6fbb446ab5a13799.png",x=e=>{let{data:a}=e;const{name:s,description:t,thumbnail:c,homepage:r,wiki:n}=a;let l={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===c&&(l={objectFit:"contain"}),(0,i.jsxs)("div",{className:"randomchar_white",children:[(0,i.jsx)("img",{src:c,alt:s,className:"randomchar_white_img",style:l}),(0,i.jsxs)("div",{className:"randomchar_white_block",children:[(0,i.jsx)("div",{className:"randomchar_white_title",children:s}),(0,i.jsx)("div",{className:"randomchar_white_descr",children:t}),(0,i.jsxs)("div",{className:"randomchar_white_btns",children:[(0,i.jsx)("a",{href:r,className:"btn btn_red",children:"HOMEPAGE"}),(0,i.jsx)("a",{href:n,className:"btn btn_grey",children:"WIKI"})]})]})]})},b=()=>{const[e,a]=(0,t.useState)({}),{getCharacter:s,clearError:c,process:l,setProcess:o}=(0,r.A)();(0,t.useEffect)((()=>{h()}),[]);const d=e=>{a(e)},h=()=>{c();const e=Math.floor(400*Math.random()+1011e3);s(e).then(d).then((()=>o("confirmed")))};return(0,i.jsx)("div",{className:"randomchar",children:(0,i.jsxs)("div",{className:"randomchar_wrapper",children:[(0,n.A)(l,x,e),(0,i.jsxs)("div",{className:"randomchar_black",children:[(0,i.jsxs)("div",{className:"randomchar_black_title",children:["Random character for today!",(0,i.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,i.jsx)("div",{className:"randomchar_black_title",children:"Or choose another one"}),(0,i.jsx)("button",{className:"btn btn_red randomchar_black_btn",onClick:h,children:"TRY IT"}),(0,i.jsx)("img",{src:j,alt:"decoration",className:"randomchar_black_img"})]})]})})};var _=s(892),g=s(899),v=s(475);const N=()=>{const[e,a]=(0,t.useState)(null),{clearError:s,getCharacterByName:c,process:n,setProcess:l}=(0,r.A)(),o=e=>{a(e)},h="error"===n?(0,i.jsx)(d.A,{}):null,m=e?e.length>0?(0,i.jsxs)("div",{className:"search_wrapper",children:[(0,i.jsxs)("div",{className:"search_title search_title_green",children:["There is! Visit ",e[0].name," page?"]}),(0,i.jsx)(v.N_,{to:"/".concat(e[0].id),children:(0,i.jsx)("button",{type:"submit",className:"btn btn_grey",children:"TO PAGE"})})]}):(0,i.jsx)("div",{className:"search_wrapper",children:(0,i.jsx)("div",{className:"search_title search_title_red",children:"The character was not found. Check the name and try again"})}):null;return(0,i.jsxs)("div",{className:"search",children:[(0,i.jsx)(_.l1,{initialValues:{charName:""},validationSchema:g.Ik({charName:g.Yj().required("This field is required")}),onSubmit:e=>{let{charName:a}=e;var t;t=a,s(),c(t).then(o).then((()=>l("confirmed")))},children:(0,i.jsxs)(_.lV,{children:[(0,i.jsx)("label",{className:"search_title",htmlFor:"charName",children:"Or find a character by name:"}),(0,i.jsxs)("div",{className:"search_wrapper",children:[(0,i.jsx)(_.D0,{id:"charName",name:"charName",type:"text",placeholder:"Enter name",className:"search_input"}),(0,i.jsx)("button",{type:"submit",className:"btn btn_red",disabled:"loading"===n,children:"FIND"})]}),(0,i.jsx)(_.Kw,{component:"div",className:"search_error",name:"charName"})]})}),m,h]})};class f extends t.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,a){console.log(e,a),this.setState({error:!0})}render(){return this.state.error?(0,i.jsx)("div",{className:"boundary",children:(0,i.jsx)(d.A,{})}):this.props.children}}const w=f,y=()=>{const[e,a]=(0,t.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.m,{children:[(0,i.jsx)("meta",{name:"description",content:"Marvel information portal"}),(0,i.jsx)("title",{children:"Marvel information portal"})]}),(0,i.jsx)(w,{children:(0,i.jsx)(b,{})}),(0,i.jsxs)("div",{className:"wrapper",children:[(0,i.jsx)(w,{children:(0,i.jsx)(m,{onCharSelected:e=>{a(e)}})}),(0,i.jsxs)("div",{className:"right",children:[(0,i.jsxs)(w,{children:[(0,i.jsx)(o,{charId:e}),(0,i.jsx)(N,{})]}),(0,i.jsx)(p,{})]})]})]})}},757:(e,a,s)=>{s.d(a,{A:()=>c});var t=s(43);const c=()=>{const{request:e,clearError:a,process:s,setProcess:c}=(()=>{const[e,a]=(0,t.useState)("waiting");return{request:(0,t.useCallback)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"appliccatio/json"};a("loading");try{const a=await fetch(e,{method:s,body:t,headers:c});if(!a.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(a.status));return await a.json()}catch(r){throw a("error"),r}}),[]),clearError:(0,t.useCallback)((()=>{a("loading")}),[]),process:e,setProcess:a}})(),r="https://gateway.marvel.com:443/v1/public/",n="apikey=d8d46a206e1d29c225cfc50d92cea400",i=e=>({id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,210),"..."):"There is no description for this character",descriptionAll:e.description?e.description:"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),l=e=>{var a;return{id:e.id,title:e.title,description:e.description||"There is no description",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",language:(null===(a=e.textObjects[0])||void 0===a?void 0:a.language)||"en-us"}};return{getAllCharacters:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await e("".concat(r,"characters?limit=9&offset=").concat(a,"&").concat(n))).data.results.map(i)},getCharacter:async a=>{const s=await e("".concat(r,"characters/").concat(a,"?").concat(n));return i(s.data.results[0])},clearError:a,getAllComics:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await e("".concat(r,"comics?limit=8&offset=").concat(a,"&").concat(n))).data.results.map(l)},getComic:async a=>{const s=await e("".concat(r,"comics/").concat(a,"?").concat(n));return l(s.data.results[0])},getCharacterByName:async a=>(await e("".concat(r,"characters?name=").concat(a,"&").concat(n))).data.results.map(i),process:s,setProcess:c}}},594:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(835),c=s(561),r=s(579);const n=()=>(0,r.jsxs)("div",{className:"sceleton",children:[(0,r.jsx)("div",{className:"sceleton_title",children:"Please select a character to see information"}),(0,r.jsxs)("div",{className:"sceleton_block",children:[(0,r.jsx)("div",{className:"sceleton_circle pulse"}),(0,r.jsx)("div",{className:"sceleton_rectangle_mini pulse"}),(0,r.jsx)("div",{className:"sceleton_rectangle_big pulse"}),(0,r.jsx)("div",{className:"sceleton_rectangle_big pulse"}),(0,r.jsx)("div",{className:"sceleton_rectangle_big pulse"})]})]}),i=(e,a,s)=>{switch(e){case"waiting":return(0,r.jsx)(n,{});case"loading":return(0,r.jsx)(c.A,{});case"confirmed":return(0,r.jsx)(a,{data:s});case"error":return(0,r.jsx)(t.A,{});default:throw new Error("Unexpected process state")}}}}]);
//# sourceMappingURL=404.707d7f2d.chunk.js.map