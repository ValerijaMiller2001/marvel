"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{835:(e,a,s)=>{s.d(a,{A:()=>r});const c=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var t=s(579);const r=()=>(0,t.jsx)("img",{src:c,alt:"error",className:"error"})},49:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var c=s(43),t=s(757),r=s(835),n=s(561),i=s(579);const l=()=>(0,i.jsxs)("div",{className:"sceleton",children:[(0,i.jsx)("div",{className:"sceleton_title",children:"Please select a character to see information"}),(0,i.jsxs)("div",{className:"sceleton_block",children:[(0,i.jsx)("div",{className:"sceleton_circle pulse"}),(0,i.jsx)("div",{className:"sceleton_rectangle_mini pulse"}),(0,i.jsx)("div",{className:"sceleton_rectangle_big pulse"}),(0,i.jsx)("div",{className:"sceleton_rectangle_big pulse"}),(0,i.jsx)("div",{className:"sceleton_rectangle_big pulse"})]})]}),o=e=>{let{char:a}=e;const{name:s,description:c,thumbnail:t,homepage:r,wiki:n,comics:l}=a;let o={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===t&&(o={objectFit:"contain"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"charinfo_header",children:[(0,i.jsx)("img",{src:t,alt:s,className:"charinfo_img",style:o}),(0,i.jsxs)("div",{className:"charinfo_header_block",children:[(0,i.jsx)("div",{className:"charinfo_name",children:s}),(0,i.jsx)("a",{href:r,className:"btn btn_red charinfo_btn_red",children:"HOMEPAGE"}),(0,i.jsx)("a",{href:n,className:"btn btn_grey charinfo_btn_grey",children:"WIKI"})]})]}),(0,i.jsx)("div",{className:"charinfo_descr",children:c}),(0,i.jsxs)("div",{className:"charinfo_comics",children:[(0,i.jsx)("div",{className:"charinfo_comics_title",children:"Comics:"}),(0,i.jsxs)("ul",{className:"charinfo_comics_list",children:[l.lenght>0?null:"There is no comics with this character",l.map(((e,a)=>{if(!(a>9))return(0,i.jsx)("li",{className:"charinfo_comics_item",children:e.name},a)}))]})]})]})},h=e=>{const[a,s]=(0,c.useState)(null),{loading:h,error:d,getCharacter:m,clearError:u}=(0,t.A)();(0,c.useEffect)((()=>{x()}),[e.charId]);const j=e=>{s(e)},x=()=>{const{charId:a}=e;a&&(u(),m(a).then(j))},b=a||h||d?null:(0,i.jsx)(l,{}),p=d?(0,i.jsx)(r.A,{}):null,_=h?(0,i.jsx)(n.A,{}):null,g=h||d||!a?null:(0,i.jsx)(o,{char:a});return(0,i.jsxs)("div",{className:"charinfo",children:[b,p,_,g]})},d=e=>{const[a,s]=(0,c.useState)([]),[l,o]=(0,c.useState)(!1),[h,d]=(0,c.useState)(210),[m,u]=(0,c.useState)(!1),{loading:j,error:x,getAllCharacters:b}=(0,t.A)();(0,c.useEffect)((()=>{p(h,!0)}),[]);const p=(e,a)=>{o(!a),b(e).then(_)},_=e=>{let a=!1;e.lenght<9&&(a=!0),s((a=>[...a,...e])),o((e=>!1)),d((e=>e+9)),u((e=>a))},g=(0,c.useRef)([]),N=e=>{g.current.forEach((e=>e.classList.remove("charlist_item_selected"))),g.current[e].classList.add("charlist_item_selected"),g.current[e].focus()};const v=function(a){const s=a.map(((a,s)=>{let c={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a.thumbnail&&(c={objectFit:"unset"}),(0,i.jsxs)("div",{className:"charlist_item",tabIndex:0,ref:e=>g.current[s]=e,onClick:()=>{e.onCharSelected(a.id),N(s)},onKeyPress:c=>{" "!==c.key&&"Enter"!==c.key||(e.onCharSelected(a.id),N(s))},children:[(0,i.jsx)("img",{src:a.thumbnail,alt:a.name,className:"charlist_img",style:c}),(0,i.jsx)("div",{className:"charlist_title",children:a.name})]},a.id)}));return(0,i.jsx)("div",{className:"charlist_wrapper",children:s})}(a),f=x?(0,i.jsx)(r.A,{}):null,y=j&&!l?(0,i.jsx)(n.A,{}):null;return(0,i.jsxs)("div",{className:"charlist",children:[f,y,v,(0,i.jsx)("button",{className:"btn btn_long",disabled:l,style:{display:m?"none":"block"},onClick:()=>p(h),children:"LOAD MORE"})]})},m=s.p+"static/media/asset.2550a32d5381821cbc9e.png",u=()=>(0,i.jsx)("div",{className:"asset",children:(0,i.jsx)("img",{src:m,alt:"asset"})}),j=s.p+"static/media/decoration.2baf6fbb446ab5a13799.png",x=e=>{let{char:a}=e;const{name:s,description:c,thumbnail:t,homepage:r,wiki:n}=a;let l={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===t&&(l={objectFit:"contain"}),(0,i.jsxs)("div",{className:"randomchar_white",children:[(0,i.jsx)("img",{src:t,alt:s,className:"randomchar_white_img",style:l}),(0,i.jsxs)("div",{className:"randomchar_white_block",children:[(0,i.jsx)("div",{className:"randomchar_white_title",children:s}),(0,i.jsx)("div",{className:"randomchar_white_descr",children:c}),(0,i.jsxs)("div",{className:"randomchar_white_btns",children:[(0,i.jsx)("a",{href:r,className:"btn btn_red",children:"HOMEPAGE"}),(0,i.jsx)("a",{href:n,className:"btn btn_grey",children:"WIKI"})]})]})]})},b=()=>{const[e,a]=(0,c.useState)({}),{loading:s,error:l,getCharacter:o,clearError:h}=(0,t.A)();(0,c.useEffect)((()=>{m()}),[]);const d=e=>{a(e)},m=()=>{h();const e=Math.floor(400*Math.random()+1011e3);o(e).then(d)},u=l?(0,i.jsx)(r.A,{}):null,b=s?(0,i.jsx)(n.A,{}):null,p=s||l?null:(0,i.jsx)(x,{char:e});return(0,i.jsx)("div",{className:"randomchar",children:(0,i.jsxs)("div",{className:"randomchar_wrapper",children:[u,b,p,(0,i.jsxs)("div",{className:"randomchar_black",children:[(0,i.jsxs)("div",{className:"randomchar_black_title",children:["Random character for today!",(0,i.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,i.jsx)("div",{className:"randomchar_black_title",children:"Or choose another one"}),(0,i.jsx)("button",{className:"btn btn_red randomchar_black_btn",onClick:m,children:"TRY IT"}),(0,i.jsx)("img",{src:j,alt:"decoration",className:"randomchar_black_img"})]})]})})};var p=s(892),_=s(899),g=s(475);const N=()=>{const[e,a]=(0,c.useState)(null),{loading:s,error:n,clearError:l,getCharacterByName:o}=(0,t.A)(),h=e=>{a(e)},d=n?(0,i.jsx)(r.A,{}):null,m=e?e.length>0?(0,i.jsxs)("div",{className:"search_wrapper",children:[(0,i.jsxs)("div",{className:"search_title search_title_green",children:["There is! Visit ",e[0].name," page?"]}),(0,i.jsx)(g.N_,{to:"/characters/".concat(e[0].id),children:(0,i.jsx)("button",{type:"submit",className:"btn btn_grey",children:"TO PAGE"})})]}):(0,i.jsx)("div",{className:"search_wrapper",children:(0,i.jsx)("div",{className:"search_title search_title_red",children:"The character was not found. Check the name and try again"})}):null;return(0,i.jsxs)("div",{className:"search",children:[(0,i.jsx)(p.l1,{initialValues:{charName:""},validationSchema:_.Ik({charName:_.Yj().required("This field is required")}),onSubmit:e=>{let{charName:a}=e;var s;s=a,l(),o(s).then(h)},children:(0,i.jsxs)(p.lV,{children:[(0,i.jsx)("label",{className:"search_title",htmlFor:"charName",children:"Or find a character by name:"}),(0,i.jsxs)("div",{className:"search_wrapper",children:[(0,i.jsx)(p.D0,{id:"charName",name:"charName",type:"text",placeholder:"Enter name",className:"search_input"}),(0,i.jsx)("button",{type:"submit",className:"btn btn_red",disabled:s,children:"FIND"})]}),(0,i.jsx)(p.Kw,{component:"div",className:"search_error",name:"charName"})]})}),m,d]})};class v extends c.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,a){console.log(e,a),this.setState({error:!0})}render(){return this.state.error?(0,i.jsx)("div",{className:"boundary",children:(0,i.jsx)(r.A,{})}):this.props.children}}const f=v,y=()=>{const[e,a]=(0,c.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{children:(0,i.jsx)(b,{})}),(0,i.jsxs)("div",{className:"wrapper",children:[(0,i.jsx)(f,{children:(0,i.jsx)(d,{onCharSelected:e=>{a(e)}})}),(0,i.jsx)("div",{className:"right",children:(0,i.jsxs)(f,{children:[(0,i.jsx)(h,{charId:e}),(0,i.jsx)(N,{})]})})]}),(0,i.jsx)(u,{})]})}},757:(e,a,s)=>{s.d(a,{A:()=>t});var c=s(43);const t=()=>{const{loading:e,request:a,error:s,clearError:t}=(()=>{const[e,a]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null);return{loading:e,request:(0,c.useCallback)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"appliccatio/json"};a(!0);try{const t=await fetch(e,{method:s,body:c,headers:r});if(!t.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(t.status));const n=await t.json();return a(!1),n}catch(n){throw a(!1),t(n.message),n}}),[]),error:s,clearError:(0,c.useCallback)((()=>t(null)),[])}})(),r="https://gateway.marvel.com:443/v1/public/",n="apikey=d8d46a206e1d29c225cfc50d92cea400",i=e=>({id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,210),"..."):"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),l=e=>{var a;return{id:e.id,title:e.title,description:e.description||"There is no description",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",language:(null===(a=e.textObjects[0])||void 0===a?void 0:a.language)||"en-us"}};return{loading:e,error:s,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await a("".concat(r,"characters?limit=9&offset=").concat(e,"&").concat(n))).data.results.map(i)},getCharacter:async e=>{const s=await a("".concat(r,"characters/").concat(e,"?").concat(n));return i(s.data.results[0])},clearError:t,getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await a("".concat(r,"comics?limit=8&offset=").concat(e,"&").concat(n))).data.results.map(l)},getComic:async e=>{const s=await a("".concat(r,"comics/").concat(e,"?").concat(n));return l(s.data.results[0])},getCharacterByName:async e=>(await a("".concat(r,"characters?name=").concat(e,"&").concat(n))).data.results.map(i)}}}}]);
//# sourceMappingURL=179.0ce2264e.chunk.js.map